<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<!-- jquery -->
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
	<!-- internal javascript -->
	<script type="text/javascript" src="assets/javascript/javascript.js"></script>
	<!-- font awesome -->
	<script src="https://use.fontawesome.com/2d05a3f6a5.js"></script>
	<!-- internal css -->
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>

<body>
	<div class="container">
		<nav>
			<div class="nav-wrapper">
				<a href="#" id="title" class="brand-logo"><i class="fa fa-fire"></i>Hot Restaurant App</a>
				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a class="valign-wrapper waves-effect waves-light btn-large" href="links.html"><span class="fa fa-id-card-o"></span> Make Reservation</a></li>
					<li><a class="valign-wrapper waves-effect waves-light btn-large"><span class="fa fa-home"></span></a></li>
				</ul>
				</ul>
			</div>
		</nav>
		<div>
			<ul id="currentReservations" class="collapsible" data-collapsible="accordion">
				<li>
					<div class="collapsible-header"><i class="material-icons"><h5>CurrentReservations</h5></i></div>
				</li>

				<!-- this will be appended if the data is available <li>
					<div class="collapsible-header"><i class="material-icons"><h6>table1</h6></i></div>
					<div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
				</li> -->

			</ul>
		</div>
		<div>
			<ul id="waitingList" class="collapsible" data-collapsible="accordion">
				<li>
					<div class="collapsible-header"><i class="material-icons"><h5>WaitingList</h5></i></div>
				</li>

				<!--  this will be appended if the data is available <li>
					<div class="collapsible-header"><i class="material-icons"><h6>table1</h6></i></div>
					<div class="collapsible-body"><span>Lorem ipsum dolor sit amet.</span></div>
				</li> -->

			</ul>
		</div>
		<div id="apiLinks">
			<a class="waves-effect waves-light btn" href="api/tables">API Table Link</a>
			<a class="waves-effect waves-light btn" href="api/waitlist">API Wait List</a>
		</div>
	</div>
	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

	<script type="text/javascript">

$(document).ready(function() {

	event.preventDefault();

	var queryURL = "/api/table";
	var data;

	$.ajax({
		url: queryURL,
		method: "GET"
	}).done(function(response) {
		data = response;
	});

	for (var i = 0; i < data.length; i++) {
		if (i < 5) {
			$("#currentReservations").append("<li><div class='collapsible-header'><i class='material-icons'><h6>" + data[i].name + "</h6></i></div><div class='collapsible-body'><span>" + data[i].phoneNumber + data[i].uniqueID + data[i].email + "</span></div></li>");
		}
		else {
			$("#waitingList").append("<li><div class='collapsible-header'><i class='material-icons'><h6>" + data[i].name + "</h6></i></div><div class='collapsible-body'><span>" + data[i].phoneNumber + data[i].uniqueID + data[i].email + "</span></div></li>");
		}
	}

});

</script>

</body>

</html>